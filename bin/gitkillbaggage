# from http://stackoverflow.com/questions/9683279/make-the-current-commit-the-only-initial-commit-in-a-git-repository
# last modified 2018-05-26

tmpf=/tmp/myUntrackedFiles

git ls-files --others --exclude-standard > $tmpf

mv .git/config /tmp

rm -fr .git
git init
git add .

mv /tmp/config .git

#cat $tmpf | xargs -0 git rm --cached

sed -i -e "s/^\(.*\)$/git rm --cached '\1'/" $tmpf

. $tmpf

rm $tmpf

git commit -m...

if test $(git remote | grep -c origin) -ne 0
then git push -u --force origin master
fi
