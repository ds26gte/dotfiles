# last modified 2021-11-03
# created 2020-05-12
# Dorai Sitaram

backupDir=$HOME/.local/share/nvim/backup

test -d $backupDir || mkdir -p $backupDir

test $PWD -ef $backupDir && exit

backupExt=.OG~

filesToBeBackedUp=".*$backupExt *$backupExt"

newBackupExt=$(date +".%Y-%m-%d-%Hh%M~")

for f in $filesToBeBackedUp; do
  test -s $f || continue
  g=${f%.*}$newBackupExt
  mv -n $f $backupDir/$g 2>/dev/null
done

rm -f $filesToBeBackedUp
